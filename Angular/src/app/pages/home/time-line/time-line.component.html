<nav class="navbar navbar-light bg-white ">
        <a href="#" class="navbar-brand">TimeLine</a>
        <form class="form-inline">
            <div class="input-group">
                <input type="text" class="form-control" aria-label="Recipient's userName" aria-describedby="button-addon2 " (keyup) = "filterPosts($event)">
                <div class="input-group-append">
                    <button class="btn btn-outline-primary" type="button" id="button-addon2" >
                        <i class="fa fa-search"></i>
                    </button>
                </div>
            </div>
        </form>
</nav>

<button (click)="goToTop()" id="topButton" title="Go to top"><i class="fa fa-arrow-circle-up"></i></button>
<div class="container-fluid gedf-wrapper">
    <div class="row">
        
        <div class="col-md-12">

            <!--- \\\\\\\Post-->
            <div class="card gedf-card">
                <div class="card-header">
                    <ul class="nav nav-tabs card-header-tabs" id="myTab" role="tablist">
                        <li class="nav-item">
                            <a class="nav-link active" id="posts-tab" data-toggle="tab" href="#posts" role="tab" aria-controls="posts" aria-selected="true">Post</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" id="images-tab" data-toggle="tab" role="tab" aria-controls="images" aria-selected="false" href="#images">Image</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" id="images-tab" data-toggle="tab" role="tab" aria-controls="images" aria-selected="false" href="#video">video</a>
                        </li>
                    </ul>
                </div>
                <div class="card-body">
                    <div class="tab-content" id="myTabContent">
                        <div class="tab-pane fade show active" id="posts" role="tabpanel" aria-labelledby="posts-tab">
                            <div class="form-group">
                                <label class="sr-only" for="PostContrnt">post</label>
                                <textarea class="form-control" id="postContrnt" rows="3" placeholder="What are you thinking?" [(ngModel)]="postContrnt"></textarea>
                            </div>

                        </div>
                        <div class="tab-pane fade" id="images" role="tabpanel" aria-labelledby="images-tab">
                         
                           
                            <div class="form-group">
                                <div  *ngIf="imageURL && imageURL !== ''" >
                                    <p style="text-align: center;"> <strong>Image Preview:</strong></p>
                                    <img class="imagePreview" [src]="imageURL" >
                                  </div>
                                <div class="custom-file">
                                    <input type="file" accept="image/x-png,image/gif,image/jpeg" class="custom-file-input" id="customFile" [(ngModel)]="postimg" (change)="showPreview($event)" >
                                    <label class="custom-file-label" for="customFile">Upload image</label>
                                </div>
                            </div>
                            <div class="py-4"></div>
                        </div>
                        <div class="tab-pane fade" id="video" role="tabpanel" aria-labelledby="images-tab">
                            <div class="form-group">
                                <label for="basic-url">Your Youtube URL</label>
                                <div class="input-group mb-3">
                                <div class="input-group-prepend">
                                    <span class="input-group-text" id="basic-addon3">https://www.youtube.com/watch?v=</span>
                                </div>
                                <input type="text" class="form-control" id="basic-url" aria-describedby="basic-addon3" [(ngModel)]="youtubeUrl">
                                </div>
                            </div>
                            <div class="py-4"></div>
                        </div>
                    </div>
                    <div class="btn-toolbar justify-content-between">
                        <div class="btn-group">
                            <button type="submit" class="btn btn-primary" (click)="addPost()">Post</button>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Post /////-->

            <!--- \\\\\\\Post-->
            <div *ngFor="let post of posts" class="card gedf-card postCard postHolder">
                <div class="card-header">
                    <div class="d-flex justify-content-between align-items-center">
                        <div class="d-flex justify-content-between align-items-center">
                            <div class="mr-2">
                                <img class="rounded-circle" width="45" onerror="this.src='../assets/logo.png'" [src]='post?.user?.profile_img_url' alt="">
                            </div>
                            <div class="ml-2">
                                <div class="h5 m-0">@{{post?.user?.userName}}</div>
                                <div class="h7 text-muted">{{post?.user?.firstName}} {{post?.user?.lastName}}</div>
                            </div>
                        </div>
                        
                    </div>

                </div>
                <div class="card-body">
                <div class="text-muted h7 mb-2"> <i class="fa fa-clock-o"></i> {{post?.postedAt | date:'medium'}}</div>
                    <p class="card-text posttext">
                        {{post?.postContent}}
                    </p>
                    <div class="vid-container" *ngIf="post.postImageUrl!=null">
                        <img height="100%" width="100%" [src]="post.postImageUrl" alt="">
                    </div>
                    <div class="vid-container" *ngIf="post.youtubeUrl!=null">
                        <iframe width="100%" height="350" [src]="post.youtubeUrl | safe" frameborder="0" allowfullscreen></iframe>
                    </div>
                        
                    
                </div>
                <div class="card-footer" *ngIf="currentUser">
                    <span *ngIf="checkIfPostIsLiked(post); else postIsNotLiked">
                        <button href="" class="btn btn-link" style="color: green;" (click)=toggleLike(post,true)><i class="fa fa-gittip"></i> Liked <span class="badge badge-danger">{{post?.usersWhoLiked.length}}</span></button>
                    </span>
                    <ng-template #postIsNotLiked>
                        <button href="" class="btn btn-link" (click)=toggleLike(post,false)><i class="fa fa-gittip"></i> Like <span class="badge badge-danger">{{post?.usersWhoLiked.length}}</span> </button>
                    </ng-template>
                    
                    <a href="home" class="card-link" (click)="addComment()"><i class="fa fa-comment"></i> Comments <span class="badge badge-danger">{{post?.comments.length}}</span></a>
                </div>
                <!--////////Comment-->
                
                <div class="box-comments">
                    <div *ngFor="let comment of post.comments" class="comment">


                        <img onerror="this.src='../assets/logo.png'" [src]="comment.commentWriter.profile_img_url" alt="" />

                        <div class="content">
                            <h4>{{post.comments.commentContent}}</h4>
                            <h3><a href="">@{{comment.commentWriter.userName}}</a><span><time> {{comment.commentedAt | date:'medium'}} </time></span></h3>
                            <p>{{comment.commentContent}}</p>
                        </div>
                    </div>
                    
                </div>
                <div class="box-new-comment" *ngIf="currentUser">

                    <img onerror="this.src='../assets/logo.png'" [src]="currentUser.profile_img_url" alt="" />

                    <div class="content">
                    <div class="row">
                        <textarea [id]="post.postId" placeholder="write a comment..."></textarea>
                    </div>
                    <div class="row">
                        <span class="ion-android-attach"></span>
                        <span (click)="addNewComment(post)" class="fa fa-smile-o"></span>
                    </div>
                    </div>
                </div>
                    <!--Comment////////-->
            </div>
            <!-- Post /////-->
        </div>
    </div>
</div>